<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,100&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <title>Password Generator</title>
</head>
<body>
    <script type="text/javascript">
        function handleShowHidePassWord(btnid, siblingid, type) {
            origem = document.getElementById(btnid)
            irmao = document.getElementById(siblingid)
            origem.classList.remove(`${btnid}-show`)
            origem.classList.add(`${btnid}-hide`)
            irmao.classList.remove(`${siblingid}-hide`)
            irmao.classList.add(`${siblingid}-show`)

            document.getElementById('generated-password').type=type
        }

        function handleCopyPasswordClick() {
            navigator.clipboard.writeText(generatedPassword = document.getElementById('generated-password').value)
            .then(() => {return})
            .catch(err => alert(err))
        }

        function handleGeneratePasswordClick() {
            let genPass = ''
            let lenght = document.getElementById("total_chars").value

            for (let i = 0; i < lenght; i++) {
                genPass = genPass + '' + Math.floor(Math.random()*10)
            }

            document.getElementById('generated-password').value = genPass
        }
    </script>
    <section class="generator-wrapper">
        <h1 class="generator-title">Password Generator</h1>
        <div class="generator-header">          
            <input type="password" id="generated-password" class="generated-password"/> <!-- value="2@#.slS01557/86..,@*&" -->
            <div class="generated-password-options">
                <span id="reveal-generated-password" class="reveal-generated-password-show" onClick="handleShowHidePassWord(this.id, this.nextElementSibling.id, 'text')"><img src="./assets/show-pwd.png"/></span> <!-- reveal-generated-password-hide -->
                <span id="blur-generated-password" class="blur-generated-password-hide" onClick="handleShowHidePassWord(this.id, this.previousElementSibling.id, 'password')"><img src="./assets/hide-pwd.png"/></span> <!-- blur-generated-password-show -->
                <span id="copy-generated-password" class="copy-generated-password" onClick="handleCopyPasswordClick()"><img src="./assets/copy.png"/></span>

                <!-- By default, generated password will be type password. On clicking on reveal-generated-password, the generated-password fiedl
                    will be turned into 'type="text"' and vice-versa
                -->
            </div>
        </div>
        <div class="separator"></div>
        <div class="generator-option">
            <div class="generator-option-label">
                <span>Use alphabetic caracters</span>
                <span class="tip"><img src="./assets/interrogation.png"/></span>
            </div>
            <label class="switch">
                <input type="checkbox"/>
                <span class="slider"></span>
            </label>
        </div>
        <div class="generator-option">
            <div class="generator-option-label">
                <span>Use numeric caracters</span>
                <span class="tip"><img src="./assets/interrogation.png"/></span>
            </div>
            <label class="switch">
                <input type="checkbox"/>
                <span class="slider"></span>
            </label>
        </div>
        <div class="generator-option">
            <div class="generator-option-label">
                <span>Use uppercase</span>
                <span class="tip"><img src="./assets/interrogation.png"/></span>
            </div>
            <label class="switch">
                <input id="switch_uppercase" type="checkbox"/>
                <span class="slider"></span>
            </label>
        </div>
        <div class="generator-option">
            <div id="switch_lowercase" class="generator-option-label">
                <span>Use alphabetic lowercase</span>
                <span class="tip"><img src="./assets/interrogation.png"/></span>
            </div>
            <label class="switch">
                <input type="checkbox"/>
                <span class="slider"></span>
            </label>
        </div>
        <div class="generator-option">
            <div class="generator-option-label">
                <span>Use simple special caracters</span>
                <span class="tip"><img src="./assets/interrogation.png"/></span>
            </div>
            <label class="switch">
                <input id="switch_simple_special" type="checkbox"/>
                <span class="slider"></span>
            </label>
        </div>
        <div class="generator-option">
            <div class="generator-option-label">
                <span>Use complex special caracters</span>
                <span class="tip"><img src="./assets/interrogation.png"/></span>
            </div>
            <label class="switch">
                <input id="switch_complex_special" type="checkbox"/>
                <span class="slider"></span>
            </label>
        </div>
        <div class="generator-option">
            <div class="generator-option-label">
                <span>Total of characters</span>
                <span class="tip"><img src="./assets/interrogation.png"/></span>
            </div>
            <input type="number" min=1 id="total_chars" class="total_chars"/>
        </div>
        <button id="btn-generate-password">Generate Password</button>
    </section>
</body>

<script type="module">
        import { Generator } from './src/Generator.js'
        Generator.init()
</script>

</html>